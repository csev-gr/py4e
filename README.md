
Python for Everybody (PY4E)
===========================

Υλικό μαθήματος για το www.py4e.com

Οι εκδόσεις Python3 του κώδικα είναι όλες στον φάκελο code3

Αν ενδιαφέρεστε για το βιβλίο Python for Everybody, δείτε τους φακέλους

* [book3](book3/)
* [figures](figures/)
* [images](images/)
* [code3](code3/)

 [`book3/README.md`](book3/README.md) για περισσότερες λεπτομέρειες.

Ρύθμιση στο Localhost
---------------------

Ακολουθούν τα βήματα για να το ρυθμίσετε το localhost σε Macintosh χρησιμοποιώντας MAMP.

Εγκαταστήστε το MAMP (ή παρόμοιο) χρησιμοποιώντας τη διεύθυνση https://www.wa4e.com/install

Μεταφορτώστε αυτό το repo σε έναν φάκελο ανώτατου επιπέδου στο htdocs

    cd /Applications/MAMP/htdocs
    git clone https://github.com/csev/py4e.git

Μεταβείτε στον νέο φάκελο και κατεβάστε ένα αντίγραφο του Tsugi:

    cd py4e
    git clone https://github.com/csev/tsugi.git

Δημιουργήστε μια βάση δεδομένων στον SQL διακομιστή σας:

    CREATE DATABASE tsugi DEFAULT CHARACTER SET utf8;
    CREATE USER 'ltiuser'@'localhost' IDENTIFIED BY 'ltipassword';
    GRANT ALL ON tsugi.* TO 'ltiuser'@'localhost';
    CREATE USER 'ltiuser'@'127.0.0.1' IDENTIFIED BY 'ltipassword';
    GRANT ALL ON tsugi.* TO 'ltiuser'@'127.0.0.1';

Ενώ βρίσκεστε ακόμη στον φάκελο tsugi δημιουργήστε το config.php:

    cp config-dist.php config.php

Επεξεργαστείτε το αρχείο config.php, διατρέξτε το και ρυθμίστε όλες τις μεταβλητές.
Καθώς διατρέχετε το αρχείο, ορισμένες από τις ακόλουθες ρυθμίσεις είναι αυτές που
χρησιμοποιώ στο MAMP μου:

    $wwwroot = 'http://localhost:8888/py4e/tsugi';   // Embedded Tsugi localhost
    
    ...
    
    $CFG->pdo = 'mysql:host=127.0.0.1;port=8889;dbname=tsugi'; // MAMP
    $CFG->dbuser    = 'ltiuser';
    $CFG->dbpass    = 'ltipassword';
    
    ...
    
    $CFG->adminpw = 'short';
    
    ...
    
    $CFG->apphome = 'http://localhost:8888/py4e';
    $CFG->context_title = "Python for Everybody";
    $CFG->lessons = $CFG->dirroot.'/../lessons.json';
    
    ... 
    
    $CFG->tool_folders = array("admin", "../tools", "../mod");
    $CFG->install_folder = $CFG->dirroot.'./../mod'; // Tsugi as a store
    
    ...
    
    $CFG->servicename = 'PY4E';

(Προαιρετικό) Εάν θέλετε να χρησιμοποιήσετε Σύνδεση Google,
μεταβείτε στη διεύθυνση https://console.developers.google.com/apis/credentials
και δημιουργήστε ένα "OAuth Client ID". Κάντε το "Web Application", δώστε του
ένα όνομα, βάλτε τα παρακάτω στο "Authorized JavaScript Origins":

        http://localhost

Και αυτά στο Authorized redirect URIs:

    http://localhost/py4e/tsugi/login.php
    http://localhost/py4e/tsugi/login

Σημείωση: Δεν χρειάζεστε αριθμούς θύρας για καμία από αυτές τις τιμές στη
ρύθμιση Google.

Η Google θα σας δώσει ένα 'client ID' και ένα 'client secret', προσθέστε τα
στο `config.php` ως εξής:

    $CFG->google_client_id = '96..snip..oogleusercontent.com';
    $CFG->google_client_secret = 'R6..snip..29a';

Όσο βρίσκεστε εκεί, θα μπορούσατε να "Δημιουργήσετε διαπιστευτήρια (Create credentials)",
επιλέξετε "API key" και να ονομάσετε το κλειδί "My Google MAP API Key" και προσθέστε
το κλειδί API στο `config.php` ως εξής:

    $CFG->google_map_api_key = 'AIza..snip..9e8';

Εκκίνηση της Εφαρμογής
------------------------

Αφού ολοκληρωθεί η παραπάνω διαμόρφωση, μεταβείτε στην εφαρμογή σας:

    http://localhost:8888/py4e/tsugi/

Θα πρέπει να παραπονεθεί ότι δεν έχετε δημιουργήσει πίνακες και θα σας
προτείνει να χρησιμοποιήσετε την κονσόλα διαχειριστή για να το κάνετε αυτό:

    http://localhost:8888/py4e/tsugi/admin

Θα απαιτήσει το `$CFG->adminpw` από το `config.php` (παραπάνω) πριν ξεκλειδώσει
την κονσόλα διαχειριστή. Εκτελέστε την επιλογή "Upgrade Database" και θα πρέπει
να δημιουργήσει πολλούς πίνακες στη βάση δεδομένων και το κόκκινο προειδοποιητικό
μήνυμα για κακή βάση δεδομένων, θα πρέπει να φύγει.

Εναλλακτικά, μπορείτε να δημιουργήσετε όλες τις βάσεις δεδομένων στη γραμμή
εντολών χρησιμοποιώντας:

    cd py4e/tsugi/admin
    php upgrade.php

Συνεχίστε να ανανεώνετε τη σελίδα `/py4e/tsugi` μέχρι να εξαφανιστούν όλα τα μηνύματα σφάλματος.
Μόλις εξαλειφθούν τα μηνύματα σφάλματος, η κύρια σελίδα δεν θα πρέπει επίσης να έχει σφάλματα.

    http://localhost:8888/py4e/

Μεταβείτε στη βάση δεδομένων και στον πίνακα `lti_key`, βρείτε τη σειρά με το `key_key`
του google.com και βάλτε μια τιμή στη στήλη `secret` - οτιδήποτε - απλά μην το αφήσετε
κενό γιατί τα εσωτερικά εργαλεία LTI δεν θα ξεκινήσουν.

Στη συνέχεια, χρησιμοποιήστε τη διεπαφή διαχειριστή για να εγκαταστήσετε το εργαλείο
ομότιμης βαθμολόγησης από το αποθετήριο github:

    http://localhost:8888/py4e/tsugi/admin/install

Κάντε κλικ στο "Available Modules" και εγκαταστήστε το
https://github.com/tsugitools/peer-grade -
θα χρειαστεί να εκτελέσετε ξανά τη διαδικασία αναβάθμισης της βάσης
δεδομένων για να δημιουργήσετε τους πίνακες peer-grader.

Στη συνέχεια, εγκαταστήστε το εργαλείο "Gift Quiz" και εκτελέστε ξανά την
αναβάθμιση της βάσης δεδομένων.

Εάν θέλετε να έχετε πρόσβαση στο περιεχόμενο του κουίζ, επικοινωνήστε με τον
Chuck για πρόσβαση στο ιδιωτικό αποθετήριο py4e. Πρόσβαση θα δοθεί μόνο σε
όσους εγκαθιστούν σοβαρά το λογισμικό και επαληθεύεται ότι διδάσκουν το μάθημα
και υιοθετούν το υλικό.
Για να ελέγξετε το ιδιωτικό αποθετήριο:

    cd py4e
    git clone https://github.com/csev/py4e-private.git

Στη συνέχεια, προσθέστε την ακόλουθη γραμμή στο `config.php` σας:

    $CFG->giftquizzes = $CFG->dirroot.'/../py4e-private/quiz';

Σε αυτό το σημείο, θα χρειαστείτε τον "κωδικό ξεκλειδώματος κουίζ" (επίσης από
τον Chuck) και σε αυτό το σημείο, θα πρέπει να μπορείτε να εκκινήσετε και να
φορτώσετε όλα τα κουίζ (ένα κάθε φορά) από το αποθετήριο. Πρέπει να φορτώσετε
το περιεχόμενο του κουίζ για κάθε μάθημα (ενότητα) ξεχωριστά. Αλλά τουλάχιστον
δεν χρειάζεται να τα πληκτρολογήσετε όλα.

Τα άλλα δύο εργαλεία LTI που απαιτούνται είναι ήδη μέρος του αποθετηρίου py4e
και στον φάκελο `py4e/tools`.

Μπορείτε πάντα να δοκιμάσετε τα εργαλεία χρησιμοποιώντας το "App Store" στη
διεύθυνση:

    http://localhost:8888/py4e/tools/

Αυτό σας επιτρέπει να κάνετε δοκιμαστικές εκκινήσεις ως εκπαιδευτής και μαθητής
σε δοκιμαστικό περιβάλλον χρησιμοποιώντας το κλειδί '12345'.

Χρήση της Εφαρμογής
----------------------

Πλοηγηθείτε στο:

    http://localhost:8888/py4e/

Θα πρέπει να κάνετε κλικ χωρίς να συνδεθείτε για να δείτε αν τα πράγματα λειτουργούν.

Στη συνέχεια, συνδεθείτε με τον λογαριασμό σας Google και η διεπαφή χρήστη θα αλλάξει.
Ειδικότερα, θα πρέπει να δείτε τις 'Assignments' και στα Μαθήματα θα πρέπει να αρχίσετε
να βλέπετε τους LTI autograders.

Γίνε εκπαιδευτής στο παγκόσμιο μάθημα
----------------------------------------

Το Tsugi μπορεί να υποστηρίξει τη χρήση του περιεχομένου σε ένα σύστημα διαχείρισης
εκμάθησης μέσω εκκινήσεων LTI και LTI Keys.

Μπορείτε επίσης να εκτελέσετε ένα "MOOC" όπου οι μαθητές συνδέονται απευθείας,
χρησιμοποιώντας την Google, στον ιστότοπό σας και κάνουν τις εργασίες τους,
παρακολουθούν τους βαθμούς τους και κερδίζουν σήματα.

Αν θέλετε να "αναβαθμήσετε" τον λογαριασμό κάποιου μαθητή σας σε λογαριασμό καθηγητή
μπορείτε να το κάνετε ως εξής:

* Συνδεθείτε με τον Google λογαριασμό σας

* Μεταβείτε στο `/tsugi/admin` - Σημειώστε ότι δεν θα δείτε την επιλογή Admin (Διαχειριστής)
στο αναπτυσσόμενο μενού μέχρι να την επισκεφτείτε μία φορά και να συνδεθείτε με επιτυχία
στη διεπαφή χρήστη διαχειριστή.

* Εισαγάγετε τον κωδικό πρόσβασης διαχειριστή που επιλέξατε στο `config.php` για
να συνδεθείτε στο Admin.

* Στην Κονσόλα διαχείρισης, επιλέξτε `View Contexts` - Αυτά είναι τα "μαθήματα" -
εάν απλώς ρυθμίσετε τα πράγματα, θα υπάρχει μόνο ένα μάθημα. Διαφορετικά, βρείτε
το μάθημα που ταιριάζει με το διαμορφωμένο `context_name` σας και μεταβείτε σε αυτό.

* Βρείτε τον λογαριασμό σας στα αρχεία μελών. Μπορείτε να κάνετε αναζήτηση χρησιμοποιώντας
τη διεύθυνση gmail σας εάν υπάρχουν πολλά. Μπείτε στο αρχείο συνδρομής σας.

* Επεξεργαστείτε το αρχείο συνδρομής σας και αλλάξτε την τιμή "Role Override" σε 1000
και αποθηκεύστε το αρχείο σας.

Πουφ! Εσείς (και όσοι άλλοι άνθρωποι στους οποίους δώσατε αυτή τη δύναμη) είστε πλέον
οι "εκπαιδευτές" της παγκόσμιας τάξης.

Γίνε εκπαιδευτής για ένα μάθημα LTI όταν το LMS δεν υποστηρίζει τον ρόλο του εκπαιδευτή
----------------------------------------------------------------------------------------

Ορισμένα συστήματα LMS δεν αποδίδουν τον ρόλο του εκπαιδευτή "όπως θα θέλατε". Μερικές
φορές δεν αποδίδουν ποτέ τον ρόλο του εκπαιδευτή και σε άλλες περιπτώσεις δεν αποδίδουν
τον ρόλο του εκπαιδευτή σε βοηθούς διδασκαλίας ή ίσως θελήσετε να αναβαθμήσετε ορισμένους
μαθητές σε βοηθούς διδασκαλίας.

Είναι πολύ απλό να το κάνετε αυτό στο Tsugi.

* Συνδεθείτε στο `/tsugi/admin` όπως στις προηγούμενες οδηγίες.

* Βρείτε το πλαίσιο που αντιστοιχεί στο LTI μάθημά σας. Εισαγάγετε το πλαίσιο.

* Βρείτε το αρχείο ιδιότητας μέλους (συχνά αναζητώντας τη διεύθυνση email) και, στη
συνέχεια, επεξεργαστείτε την εγγραφή μέλους, ορίζοντας το "Role Override" σε 1000 και
αποθηκεύοντας την εγγραφή μέλους.

Από εκείνο το σημείο και μετά, ανεξάρτητα από τον ρόλο που ορίζεται από το LMS - αυτός
ο χρήστης θα θεωρείται ως εκπαιδευτής από τον Tsugi.
